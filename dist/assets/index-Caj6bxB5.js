import{r as A,g as b}from"./vendor-BOgQtUoh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();var L=A();const o=b(L),D={type:o.AUTO,width:736,height:608,backgroundColor:"#1d1d1d",pixelArt:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:{preload:x,create:C,update:P},scale:{mode:o.Scale.FIT}};function x(){this.load.spritesheet("character",new URL("/assets/Prototype_Character-CeCP3SgK.png",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.tilemapTiledJSON("map",new URL("/assets/map-B0qlOJbc.tmj",import.meta.url).href),this.load.image("barrier",new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQdJREFUWIXtlzEKgzAUhv+E7IJDK5QWOrbgAVzcegqHns3BU3gAb6BjQelQL2EHicRUW2MkEeo/CXnJ/+F7L+ERCIpu9wYGlKQx4d9MNPfDQPmw1+OJ/fmgtCcCGg5Bdcznyg+D7m8z0+Y9CKChxp0lbQDWARjQtpKOdPYzAIN9PKe/h/TtnLoq7adgA1gHgOs5xo25JwWAIsuNQriegyLLAQjPcZHluATXD8IlzGRx8x6AvCCrrkrsjqefhlPjuNZRhH8NwIA2b1O0dFwHMFQ0U4pJN2Z7jFYBQExNQ2MaLUJZKjecyq1pPQU0SWOi0rdLqa5KJGlMKNBOqyYhuDkAEHHBxnj+BoS9b4PaEB1JAAAAAElFTkSuQmCC",import.meta.url).href),this.load.image("tileset1",new URL("/assets/tileset1-BCLDFM6N.png",import.meta.url).href),this.load.image("tileset2",new URL("/assets/tileset2-CUxV-Ac-.png",import.meta.url).href),this.load.image("tileset3",new URL("/assets/tileset3-Du5V4csa.png",import.meta.url).href)}function C(){this.lights.enable().setAmbientColor(1052688),this.lights.addLight(80,48,200,16759418,1.5),this.lights.addLight(368,48,200,16759418,1.5),this.lights.addLight(656,48,200,16759418,1.5),this.lights.addLight(80,512,200,16759418,1.5),this.lights.addLight(656,512,200,16759418,1.5),this.lights.addLight(80,288,500,16759418,.5),this.lights.addLight(368,512,500,16759418,.5),this.lights.addLight(368,288,500,16759418,.5),this.lights.addLight(656,288,500,16759418,.5);const r=this.make.tilemap({key:"map"}),t=r.addTilesetImage("barrier","barrier"),i=r.addTilesetImage("tileset1","tileset1"),s=r.addTilesetImage("tileset2","tileset2"),e=r.addTilesetImage("tileset3","tileset3"),a=r.createLayer("base_color",[t,i,s,e],0,0),n=r.createLayer("floor",[t,i,s,e],0,0),f=r.createLayer("outer_walls",[t,i,s,e],0,0),p=r.createLayer("barriers",[t,i,s,e],0,0),g=r.createLayer("decor",[t,i,s,e],0,0);r.getObjectLayer("player_spawn");const y=r.getObjectLayer("collision");a.setPipeline("Light2D"),n.setPipeline("Light2D"),f.setPipeline("Light2D"),p.setPipeline("Light2D"),g.setPipeline("Light2D");const u=["front","right","left","back"],m={idle:{startFrames:{front:0,right:16,left:32,back:48},frameRate:3},walk:{startFrames:{front:1,right:17,left:33,back:49},frameRate:7},damage:{startFrames:{front:2,right:18,left:34,back:50},frameRate:7},death:{startFrames:{front:3,right:19,left:35,back:51},frameRate:7}};for(const[l,{startFrames:c,frameRate:w}]of Object.entries(m))u.forEach(d=>{const h=c[d];this.anims.create({key:`${l}-${d}`,frames:[{key:"character",frame:h},{key:"character",frame:h+4},{key:"character",frame:h+8},{key:"character",frame:h+12}],frameRate:w,repeat:-1})});this.player=this.physics.add.sprite(48,80,"character"),this.player.setScale(2),this.player.body.setSize(10,10).setOffset(11,13),this.player.setCollideWorldBounds(!0),this.player.setPipeline("Light2D"),this.playerLight=this.lights.addLight(this.player.x,this.player.y,100,16759418,.5),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd=this.input.keyboard.addKeys({up:o.Input.Keyboard.KeyCodes.W,left:o.Input.Keyboard.KeyCodes.A,down:o.Input.Keyboard.KeyCodes.S,right:o.Input.Keyboard.KeyCodes.D}),this.lastFacedDirection="idle-front",this.player.play(this.lastFacedDirection),y.objects.forEach(l=>{const c=this.add.rectangle(l.x+l.width/2,l.y+l.height/2,l.width,l.height);this.physics.add.existing(c,!0),this.physics.add.collider(this.player,c)})}function P(){const t=this.player,i=this.cursors,s=this.wasd;if(t.setVelocity(0),[i.left.isDown||s.left.isDown,i.right.isDown||s.right.isDown,i.up.isDown||s.up.isDown,i.down.isDown||s.down.isDown].filter(Boolean).length>1){t.play(this.lastFacedDirection,!0);return}i.left.isDown||s.left.isDown?(t.setVelocityX(-80),t.anims.play("walk-left",!0),this.lastFacedDirection="idle-left"):i.right.isDown||s.right.isDown?(t.setVelocityX(80),t.anims.play("walk-right",!0),this.lastFacedDirection="idle-right"):i.up.isDown||s.up.isDown?(t.setVelocityY(-80),t.anims.play("walk-back",!0),this.lastFacedDirection="idle-back"):i.down.isDown||s.down.isDown?(t.setVelocityY(80),t.anims.play("walk-front",!0),this.lastFacedDirection="idle-front"):t.play(this.lastFacedDirection,!0),this.playerLight.x=this.player.x,this.playerLight.y=this.player.y}new o.Game(D);
