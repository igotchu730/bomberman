import{r as U,g as H}from"./vendor-BOgQtUoh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const A of a.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&s(A)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();var Q=U();const h=H(Q),J={type:h.AUTO,width:736,height:608,backgroundColor:"#1d1d1d",pixelArt:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:{preload:Z,create:v,update:x},scale:{mode:h.Scale.FIT}};function Z(){this.load.spritesheet("character",new URL("/assets/Prototype_Character-CeCP3SgK.png",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.tilemapTiledJSON("map",new URL("/assets/map-BqrnZVmw.tmj",import.meta.url).href),this.load.image("barrier",new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQdJREFUWIXtlzEKgzAUhv+E7IJDK5QWOrbgAVzcegqHns3BU3gAb6BjQelQL2EHicRUW2MkEeo/CXnJ/+F7L+ERCIpu9wYGlKQx4d9MNPfDQPmw1+OJ/fmgtCcCGg5Bdcznyg+D7m8z0+Y9CKChxp0lbQDWARjQtpKOdPYzAIN9PKe/h/TtnLoq7adgA1gHgOs5xo25JwWAIsuNQriegyLLAQjPcZHluATXD8IlzGRx8x6AvCCrrkrsjqefhlPjuNZRhH8NwIA2b1O0dFwHMFQ0U4pJN2Z7jFYBQExNQ2MaLUJZKjecyq1pPQU0SWOi0rdLqa5KJGlMKNBOqyYhuDkAEHHBxnj+BoS9b4PaEB1JAAAAAElFTkSuQmCC",import.meta.url).href),this.load.image("tileset1",new URL("/assets/tileset1-BCLDFM6N.png",import.meta.url).href),this.load.image("tileset2",new URL("/assets/tileset2-CUxV-Ac-.png",import.meta.url).href),this.load.image("tileset3",new URL("/assets/tileset3-Du5V4csa.png",import.meta.url).href),this.load.spritesheet("crate",new URL("data:image/png;base64,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",import.meta.url).href,{frameWidth:32,frameHeight:32})}function v(){this.lights.enable().setAmbientColor(1052688),this.lights.addLight(80,48,200,16759418,1.5),this.lights.addLight(368,48,200,16759418,1.5),this.lights.addLight(656,48,200,16759418,1.5),this.lights.addLight(80,512,200,16759418,1.5),this.lights.addLight(656,512,200,16759418,1.5),this.lights.addLight(224,288,500,16759418,1.5),this.lights.addLight(528,288,500,16759418,1.5),this.lights.addLight(368,512,500,16759418,.5);const r=this.make.tilemap({key:"map"}),t=r.addTilesetImage("barrier","barrier"),i=r.addTilesetImage("tileset1","tileset1"),s=r.addTilesetImage("tileset2","tileset2"),e=r.addTilesetImage("tileset3","tileset3"),a=r.createLayer("base_color",[t,i,s,e],0,0),A=r.createLayer("floor",[t,i,s,e],0,0),D=r.createLayer("outer_walls",[t,i,s,e],0,0),b=r.createLayer("barriers",[t,i,s,e],0,0),B=r.createLayer("decor",[t,i,s,e],0,0),E=r.getObjectLayer("player_spawn"),w=r.getObjectLayer("collision");a.setPipeline("Light2D"),A.setPipeline("Light2D"),D.setPipeline("Light2D"),b.setPipeline("Light2D"),B.setPipeline("Light2D");const F=["front","right","left","back"],O={idle:{startFrames:{front:0,right:16,left:32,back:48},frameRate:3},walk:{startFrames:{front:1,right:17,left:33,back:49},frameRate:7},damage:{startFrames:{front:2,right:18,left:34,back:50},frameRate:7},death:{startFrames:{front:3,right:19,left:35,back:51},frameRate:7}};for(const[l,{startFrames:o,frameRate:u}]of Object.entries(O))F.forEach(g=>{const d=o[g];this.anims.create({key:`${l}-${g}`,frames:[{key:"character",frame:d},{key:"character",frame:d+4},{key:"character",frame:d+8},{key:"character",frame:d+12}],frameRate:u,repeat:-1})});this.player=this.physics.add.sprite(48,80,"character"),this.player.setScale(2),this.player.body.setSize(10,10).setOffset(11,13),this.player.setCollideWorldBounds(!0),this.player.setPipeline("Light2D"),this.playerLight=this.lights.addLight(this.player.x,this.player.y,100,16759418,.7),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd=this.input.keyboard.addKeys({up:h.Input.Keyboard.KeyCodes.W,left:h.Input.Keyboard.KeyCodes.A,down:h.Input.Keyboard.KeyCodes.S,right:h.Input.Keyboard.KeyCodes.D}),this.lastFacedDirection="idle-front",this.player.play(this.lastFacedDirection),w.objects.forEach(l=>{const o=this.add.rectangle(l.x+l.width/2,l.y+l.height/2,l.width,l.height);this.physics.add.existing(o,!0),this.physics.add.collider(this.player,o)});function I(l,o,u,g,d,N,R,K){const P=o.width,S=o.height;let L=0;const k=new Set,C=(n,c)=>`${n},${c}`;[...u.objects,...g.objects].forEach(n=>{var p;if((p=n.properties)==null?void 0:p.some(f=>f.name==="noSpawn"&&f.value===!0)){const f=Math.floor(n.x/o.tileWidth),m=Math.floor(n.y/o.tileHeight);k.add(C(f,m))}});for(let n=0;n<S;n++)for(let c=0;c<P;c++){if(L>=R)return;const p=C(c,n);if(!k.has(p)&&Math.random()<K){const f=o.tileToWorldX(c),m=o.tileToWorldY(n),y=l.physics.add.sprite(f+o.tileWidth/2,m+o.tileHeight/2,N);y.body.moves=!1,y.setPipeline("Light2D"),y.setTint(11184810),d.add(y),L++}}}this.crates=this.physics.add.group(),I(this,r,E,w,this.crates,"crate",250,.85),this.physics.add.collider(this.player,this.crates)}function x(){const t=this.player,i=this.cursors,s=this.wasd;if(t.setVelocity(0),[i.left.isDown||s.left.isDown,i.right.isDown||s.right.isDown,i.up.isDown||s.up.isDown,i.down.isDown||s.down.isDown].filter(Boolean).length>1){t.play(this.lastFacedDirection,!0);return}i.left.isDown||s.left.isDown?(t.setVelocityX(-80),t.anims.play("walk-left",!0),this.lastFacedDirection="idle-left"):i.right.isDown||s.right.isDown?(t.setVelocityX(80),t.anims.play("walk-right",!0),this.lastFacedDirection="idle-right"):i.up.isDown||s.up.isDown?(t.setVelocityY(-80),t.anims.play("walk-back",!0),this.lastFacedDirection="idle-back"):i.down.isDown||s.down.isDown?(t.setVelocityY(80),t.anims.play("walk-front",!0),this.lastFacedDirection="idle-front"):t.play(this.lastFacedDirection,!0),this.playerLight.x=this.player.x,this.playerLight.y=this.player.y}new h.Game(J);
