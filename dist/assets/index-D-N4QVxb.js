import{r as Y,g as X}from"./vendor-BOgQtUoh.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))B(s);new MutationObserver(s=>{for(const m of s)if(m.type==="childList")for(const R of m.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&B(R)}).observe(document,{childList:!0,subtree:!0});function y(s){const m={};return s.integrity&&(m.integrity=s.integrity),s.referrerPolicy&&(m.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?m.credentials="include":s.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function B(s){if(s.ep)return;s.ep=!0;const m=y(s);fetch(s.href,m)}})();var q=Y();const u=X(q),z={type:u.AUTO,width:736,height:608,backgroundColor:"#1d1d1d",pixelArt:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:{preload:G,create:N,update:O},scale:{mode:u.Scale.FIT}};let L=80,H=1,P=1;function D(t,n){return`${t},${n}`}let M=null;function G(){this.load.spritesheet("character",new URL("/assets/Prototype_Character-CeCP3SgK.png",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.tilemapTiledJSON("map",new URL("/assets/map-CfSwg4U1.tmj",import.meta.url).href),this.load.image("barrier",new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQdJREFUWIXtlzEKgzAUhv+E7IJDK5QWOrbgAVzcegqHns3BU3gAb6BjQelQL2EHicRUW2MkEeo/CXnJ/+F7L+ERCIpu9wYGlKQx4d9MNPfDQPmw1+OJ/fmgtCcCGg5Bdcznyg+D7m8z0+Y9CKChxp0lbQDWARjQtpKOdPYzAIN9PKe/h/TtnLoq7adgA1gHgOs5xo25JwWAIsuNQriegyLLAQjPcZHluATXD8IlzGRx8x6AvCCrrkrsjqefhlPjuNZRhH8NwIA2b1O0dFwHMFQ0U4pJN2Z7jFYBQExNQ2MaLUJZKjecyq1pPQU0SWOi0rdLqa5KJGlMKNBOqyYhuDkAEHHBxnj+BoS9b4PaEB1JAAAAAElFTkSuQmCC",import.meta.url).href),this.load.image("tileset1",new URL("/assets/tileset1-BCLDFM6N.png",import.meta.url).href),this.load.image("tileset2",new URL("/assets/tileset2-CUxV-Ac-.png",import.meta.url).href),this.load.image("tileset3",new URL("/assets/tileset3-Du5V4csa.png",import.meta.url).href),this.load.spritesheet("crate",new URL("data:image/png;base64,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",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.spritesheet("bomb",new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAAAXNSR0IArs4c6QAADmdJREFUeJztXEtzHNUV/q5eBgMGtd9m9PTo1bIs1yghIS48qSK/wGuFFRsvvGGZKlgkVSyzZcNK9JpdtgmjlFMVKE1iFMaWbcAW4hFMhoSEJLZknSz6nu7bd25339vTI1FEp6prHp6Z7zy+891zu1sWcDAi9AMYkEc/gCEAhwA8Jp8PARiE772HVvsiAnENy/QCgF0AO/J4II+HALaFwOeW2AJAHwAhsfvkY3z43pdotZ+Vn1FtVx6P9EMI/NcSH/J3+5SDczAkczKo+MO+CgCkYG4rudgRAl87xM+HitGvvWZcSFzKiX/HMnY1fn5UfRgw4Ec/ofkQPdrmX8uB7oN+mPxgH9T4d4XAPx2xVdxBqLyPj9CHQLyPZboAgBCI61imWYT1Zw48FAJ/c4y7T8Hg/gt98L2baLUvIMk/kv24CGAbgWhhmcYQ9uB2n03wKaYmJPleq/0TBOIa/EtAIH4fPvf+iOwCueLqjdiPVrsCJmMgtuB7W4gbUxWuovg6CTp9AAbQrN9C3BTh+4G4hfLi78TU42zWP1Ne86OO71J/tda6DwNI+jGAQHwBYBDN+hdI5r6M+FUf9BxwvFmH6o8rdjoHmvU7APrge39BIN6HfwnwvT/L5j+vfU/vHZe4zUerfV7iryEQ78H33kUg3kOr/Rw478s0o/rsKgCU9g9CoCUE/iQE3kUg/gD/EtBaBfxLwDL9FK32CwhX6etIksDVzAUIxOcA+tGsb8L37obiswA063eRvjoUKYDqQ5IAvvchArGBWuOc9GUdzfo6gH4s0znt8674abHHDRCILfm4iVrjLHxvE763hWb9U9mQah7Kwo9FoFn/HMAAfG8LyzQBYAC1xjjSxacIvupH0gdVbMK66+KvChX74mqmJg5fL68DgfgAwULIeyDkIIBQELwb8L072veKYOvfFwjEDQACzXoTACL+h4vwu9HnfW9DxXVygAh9SKrsEIAhIbD15uWLuL7xVyzOnMTLb18DvSXiJLRWgWW6BN9bRau9hHgb8EAIfGKJnab4/ULgfuKza/Xkl1urwOvDQKs9iuQIvi0EvnXEV1c9NQ/ho+9t4BdfJ2N/fVg+b88hHgG3YTkCGuJXydw53YQrUWjL60CrPQHgEXxvU/oxjHgLkjuCyy2AaezWJ4+kwDbrt5Xcj0nMR0hugazyL/0wTVz6lDOAZv3DePFZ57wbt2FC4CtLbN568SNjHoK6FfC9Vmr9gwXuhQnE9b+PHDNwj2MdAjCo91Aq/4MFzsck5BZgwCb4LN+4+V9++1r4zgd3cHW+CvHzO6A1CQ4Avrdq+H6RETD5AwL3r85XI+G5Ol+FWGrESVAL4HubaLXPoLgCm/wWQmCLX9DaQvwvTMJAvvbXb6DVrnaBaRpBY3L43kfRisP4wSUgWP04fq99Et3FnbYF6oPv3e0gP8cfrN6TQnAa5eTfNIHdi+Ln5g8WgCZuKEJURdhEuyg2Aeg+QAhs8puZ9V9eB1o0rfxG6kStmf45fk1C4BMr/sfNP2sbYKcXhD4iDBLhccQnmKKDCOdpzgufr9WJ3hJEc17ykVAjwjwRqkQYdcAWROgnwhARHifCUwDozcsXVfzxCFvHD7FHiXCGCCeIMCx/wxV/UOI/SYRhAHR1vkpvXr4Y+ZLATuLPEuEsEUaIcIoIRx1zP0CEQ0R4ggjPEOEoEU4larBWT2LOebE/hGdl7B4RnpJ1tI2d8Tn/R+TvnKC1OhFhjAiT9JaI869ih/gjRDhNhOMy/0/axq/kYJAIj8kcPE2EY6nx688Jc0SYkr5UiHDSAVvI+Bn/KSJ4yKq/ysMQ0ydCVfpyRvpugw2Fe49J7j2DTv6fQzb/54kwTXMe4x93yX9UAAC0srJC9zY3aW1tjdbW1lQnakYSEJ6XTlyQr88SYcSxAFESgA7xqRBhvKP4jB8G3a0ARAIoyZsoACQZACR9iPFniDDJ5JMEcsHXBeAY0giYzP0kEcalAJwsKAD9Cv5hVQCgN6AqfoRpWfcJ+cgC8ExBARhQBSA1frX2hPNEWCCCr+SjIsXTJf9qE3YsQNDr38k/XgBGZR6sFgBNAA4R4Ql08n+KCH6C/538m6Nw4R2T+FYCpCdhAFIAuPn5uXRkUSb5R0T4MRGel+DPEWFJFmOWi+CAHRGA8VmAVlZWGDtchUL8KhGqknT8XuEVSMFPE6BRIpyF3oCs/OHjFBEmKF6Jh11zrwjA08gioGkK0cSvBAE4yj5wEyawY+JViTAhn58iwjEpAE/Yxi/9SAhAZvyEhY4pIFyBp7sUgAEiHEJn/ceIUAU3P+Gcgjuv1H+c4gXAqv4q94kwhHT+zxBhXnJ9kQgXJO75aAGKJ2GnCTTyhQ9ufnaAnZCOXCDCkgT7IRF+kEhGWIRxIpyxBtYEIEV8RuTvTirqPyHfG5WNpxKwiABEAqQWQeJPKOPmrFTcOfl6WplCTrMPDvjqFugwOgk4Smv15AQQNh6v/h3iJ4XMBZu3AIeJcARZDRjGOkWEqlILnkCOUji+H7aNX/oRbYMM8Y8QYUI+55V+QTnmibcAsS8nHLCjbRDy6h824qxS+xkiTMmccB2OUSjiNtgcez/JCTyF/1WJ6ys5n5fCNyv/XRUg+wnU9aBwpV+UYrAoX58jwqySCBcFtvaDQjUel8cYEUYl5mmZFI/CFcyagLII0QSkCyDiKWAyQfqQENyIY5Qcw4844EcjqIp/b3NTn4AmojE3Fl1d/J6mcIo45ICtnwNIjMCynmPg5k9uQSYU4eNzEEfIcgLRc5ATf1U2nK+t/NyMZykega33wEoOEviG+k8Q4awigFMSk3NwRqm/1RaUuQd7/k/LHPDBi8+4zAEL0LDNWdjoDOSVK69Eb77xxq8TH5qaXgQA3L51XXf+HABCID6Qd0LxZZhthJdhvrT14cqVV3BzYwMA8Lvf/ib7C/H2Qk2OeifYDsI74f5jgQ8iQIj8s7ayCZLXuJv1j1BrjGnY2xL/X5b40ZlvIbC9srKC+fn56N+XlpZAhBE065+g1hhHIO7KO744bvVuTDX+BzaxQ7sMqOeNCM8ivgx5F7XGJJK5Vy//Rc8L3AnYJwR2UuIfBV+ODMRtybfQmvWbqDWqSOZ/Wwi0LbFt6z8K/S7QZv1j1BqjiGsQXYq0vAxahP+TEX6yBioHd/IEIAI2GTuztbWVeN8gAlMwE2HH4jo46fiMq2PruBL7ZITdrN9HrTGM5K2wuQ3AP5UmcgbMCsy3obIAcfy7QuDfVuD2BFQvc6rCp2Kr8W/bYEMRACHwkBvw2PHjaLzzDl566aUQu1n/DLXGCML7ADZRa1SQrLvaBDtC4KFN/OyKha8jiG9L5hroC4DKv7/bYpdQf70BbRagbvnPJ9p30ax/ilrjBJQa5ApAWvO7OiOVsYOIQuAfRfBVXAvso0g2QuSHJQFpanoRP3vxxQ58xs0QH8A8gfC96M4CpFuu8MUNaLoX3/ZvAYQQ2LX47Clki58ef64A8e84xj8mn5qEMJpEhMA3ttgF62+aQKNc5PCvLP7zpeIE95EjAJmrf5ojac4oTugJyBqBrBOQhiuxea+9Cy0RFg3QUXzdh5zke+gkoIpv0wBGAlqo/3AWNgASAo9yweX04diAfIkpDZsFIBcfxeM/rb7U8FkA8iaw/ax/WfznBZB9iPow807AvOZPs0ql0rEtQLjnMSXB2UzB59gjdJ4s4UTkmqn4qlUq4emGra0tTE0v6iTYScG2xrfFBToIyM2lCp/ui7WlrYCGmAFEwqriJsTHFV83i/i5ufSY1UUo17qsP6/wOu8K178A//U8RDVIuxXSyjEXR+ReXz0JxEeaGdUvC5MLAcQnJSX2tzCsfsiP00mBU0yPl8lnS4DUFYitUqkkYmeT4636tw8qvnUDZq3+jKv/u9xbm+rt2gDdxP8Vkn9+a8pDJnYJ9Vf/9kPHzsIvk//foDP+XQC7qfdCT00vZoLZJkAjhk7GzALoGAWUTzU98VYENGGm+WFqBjlimkSAmyDXdPJn4RsaNU34nFZg0+qv4gKdIgBz8ztPAF3Gv204rPiXhuVY/wcouAD0gP8dXMj9Y6CbGxuYnZkp0wm18IUasAts1azJr+agoD8qtnXsKj4AzM7MFN3+mHCdxk/OgSO+SnK97nsVP2/B2JzFr4T6F8p5F3gmM/Ig86+heB9/c2MjOmws46SIqny5Cmg4j1DYhABpB4TFXRB6DgpaV3tf1Qebz6Vg6+cAnK1A/FnTh7V1Gb+68unbn1w/Sq6/U/xl8h/m6SP1HECvrMOBvC+4JKHkhJX2uyw2pqPXZhK9PcQ3bTm6OvFXwEz4hQSoqHVT/7L4n4afKwCuwbs68X2ylGvCpUSZV4deYvPvp/mQdi08T3xc6l80/r0UwF7XoBeWJgBCDcJWBHLuCHT+74/4+0UUuKQiWPvQq+kDWi32yYx5yBIFlEf8/Yx/P+u/J/zPPAl4+9b16Iym6oR+yaWH5E9gmC717BV+mg852KWqP2OpPuxBA0bGfLDId09Wvf2Ofz/r3yv+W/0tQNo14CwrcQzquAadR4AejGCp18H3ADvyAciuRQ+xXwXwS4fPvyYff1WiD/sZ/37Wv6f8txIAwE0EDCNbt4koWoAysCMfgP/bBnxVeZ7lx2va6zLxDwTIwlz57/TnwIBTAlwwbMy1AGVhM/ltCVh2E7yqvXZpwDLws3xJs15i7nX8+11/tp7w37ZBil666bYBbVce3coqgonwrgTsBj/LDxsrsxFVS/Nnr/HyrBd538v695z/WQ3qorx5DmQ6YYlv40daAYrg5/lha2U3RZ4/vWrC74rtdfz7Vf894X+aAGQFnScEZTZht8kviptm+zECH9h3x/a6/j3nv8sE0DMnLM3Vn4MmPLDvk/WE/y579IMGPLADO7ADO7AD+77Y/wBCLwP4ABOHrwAAAABJRU5ErkJggg==",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.spritesheet("explosion",new URL("/assets/explosion-QF2Ass87.png",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.spritesheet("bombUp",new URL("data:image/png;base64,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",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.spritesheet("range",new URL("data:image/png;base64,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",import.meta.url).href,{frameWidth:32,frameHeight:32}),this.load.spritesheet("speed",new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAACE5JREFUWIXFl0uIZVcVhr/9POfce+s+qqrTHe2OMURiggFRIzpQEI04EnWiI0eCs4CgIAh2AupAnKkTFRVBQZyIiM+IKImJBo12B2NDB1u70q+qunVv3XPPYz8ddNLaVjlTXMMz2Ovba+31r/PD/znEcR9zzo/+T5IJceRcfVziB++eniX2CG3xPlIqBTrR9RmpQGvFRmXxIbNct8yqgiZp6vqQyXRI2zjGlaRuIlILCpVZdYqc8xEQ8a/J3/SayVmXJFkYCpU5bCKDShF9xDtHUgqZM5ONDUxscVnisoTY0vpEYSzOeybjCaNScWVvSYqO7dk21/cPGJSSft1z4Xr/2MsQt1XAe4HzniQFWMXl/RWFUkhr6ZtIoQMpZ/56Y4UxGiUAkSELYgbvGypjubHYpw+CYmBILiPyAVJZslDMpur2trx8+3tfMTobfWA03uBvuzU5ZyqrqA8bRGEZWUlEQnSURcVh55DRU5Ul6y4wHhU0TUcXJScnhr2Vx0hPVQ1xztOFzCvHmowAmblwuX5MCPGovNUCYDKb0rtI73oGSiKioywUKcOi7olJ0AbJft3RtbcnlzlyZnPIrMwYEuMyMapK2rYjR89ASZK0VDpQyP5WBW4BWCmol3NePOgobMna9WRl6fqIFHBmewObO7ZHlu0STk0MKSWmlULmyKyy7K0apgV45zC2IkbJaGAoC83a9VxbdghT4KM+ChBSYlhVCCKCTGH0rQpMbSCFjpGSbJiAMZJKQ6kyszIyKxNLn3j/azOHXcYry2rdk0VGSJBC3TyPTIyCwhZHx1Bm8CmREXjvyUJSllCUmsJIJAmMoHWRrg9oK5EZkh1jQ8/rxzUffPiVLNycum75y6pkf9mTPTgUjcsgAkWlCV04ClBUlpAkKXYIIdEK3nFPwdQ6Fk4ztYGFszxxRVHRUveBkZXUy0NGkzGbRcND797mNfdt8pkv/ZnzBxE93CDHDh0TAxNZO0UKAZmOAVBKEHoHwAcesHz4XRMAduYQoqJMNadOVnxoWWMHW3ziu3OQklGO3DdaMRgatIXt14346Ps2ab59Heh5/EqBKBQHq0iKmbZXeN8dBVgsG4QUxCT40QXH1O6yM4+c3lQ0a89gaGj+cADAvK9541ZiMDTszCNbI/WywiGGFQ+86wyPbm/y+a9d5A1bnvMLgdICkTLe9ySfjgKMh5oQM4UKDAYVP7gYmZWKy41k0ScKpXjLCc9XvvEQzfUOUyXWuz2Tu0cgNGhDs3NANawAOP3WU3w89Hzhm5cBx3ksfe8RIt4Ur38HiFlQIiEnDuue995vmNpIs+5euqnjc5++n7zsGZwsycYwnWYIjlwakILq3pOk9gA9nuHrNaff/Vo+tSH47Bf/zh8PLciIFJmNoTkKAIlsBmzNBI88fII3n/G4kMH3TGaGF64mYhu4/mLmzpNTaA6R4xP41RxdWEgZ2g6hx0TvUWWBbGq2HzzJJz+i2Pn8RZ5qLYUpaV56a7cBaG2p1x03lp4v//RFnrp7CykyOoMIC6xf8873vI7CdKxf2GN41wly9uTDhig0jIYw20SHmqhK0vJFsEMoDKoyfOSdWzz1nRUiQx/7owAb1pBDJviG3cbgF1cBOLGp2KkjpzcNeiwpokRsWxCB7tKc4s4TCOMJqcVc2yUOJqi8JEtDbGrCXuLC72/wk2cXgMIUgk09PKqE15YLXEoooxiXlmcPBlysLT++CH54BwAfe+Qc555puHHBcenJq/Te4hctf/vZJdy1ltWeJ3croi4hZBYX1zz39AHf+vkuP7xU0YXA8tBTr49pAWi8j0gh6PoWReZtZ0pAAatbo/jl7+wwGBoWzjK1l1k4C4D9+lW++tWHSFZBzuyen3PhfM33npzzxN6IrluThSWFgB2IowAyZ9Aaa26uy4fvEbzlgQkPvgLqOjDbnDE7MSK7yM/+WHPu3FV+c91w36yndelmMacjZArMLyx57k81339qzs48EmNAiIIYApNtjdDHTEFCImOgaTqmo4LHLyZ+/fd93n6Xxvo1+2vBmTv0LXF64orCp8Rz5uYueOtpj0Bx8PycZ59e8oOXkl9YWETIKJFBZNreMyyOWUY5R7LQSGOoXeLVo8B0MuW3l9c0XlJozXPzTDWwnDvIGCVJGaRbE6SkWXt2n9nhid8d8stndnnyasl+E1DBY6ylqQPOJ6pyhAzH7AIhLC4GrJL4tmMpYZVbUoLZoGRrWEBouFRrku8JUtJHwbA0vLAfmA8kv/j1gsefvsa8l1xZeKQQyHLAOiTWISFyJqBZ1/VRACUzKWec82yMByy6nm0gIli5THJLeiGwQuBEJiXPiY0KHwR3zKqbSverG/z2mqAQgsJAyJK2XeM8KCmJUuC8w5SDowDGGJTSvGpLcXXpsFrROEfOmaFWYEpESCirKJVCZEEisXaemNZMtObiSmF1RipJ3wdq7xlYRcoJq+DUtERKQ9euj+qAFJkUHElafExYq1h1UDtFVIal90gtubFytCGzcj3Bg3OZLEr2usxhMKycQEuNFxktBEJIXBIoAUlaBjoxKv85Bbf5gvvvGp/NMWHKit5FruyvCQJKpYhEJIJKQR8iRoNWBX0XQCdCgMoqYobGeaTQpHTzt/3M1JCkpbCK4DzPX14c7wtSzoyGBhfBCse9p4aApnMtVguUhJQ1OUpGY0PXRg5NRhvDxEpWrUcXFVqAixGEYDgY4vsG73sKNcL8y+35d2/4sjU7MxVnR0OJkpZqNKJfrZAq43wi5kxRGCqZScJChL264dV3jtndP8RF2KgKkpI0TYtUFpUT0gj+dKl9jP9kzY4D+W/Hceb0/x7/AM8BeYmbLzgCAAAAAElFTkSuQmCC",import.meta.url).href,{frameWidth:32,frameHeight:32})}function N(){this.lights.enable().setAmbientColor(1052688),this.lights.addLight(80,48,200,16759418,1.5),this.lights.addLight(368,48,200,16759418,1.5),this.lights.addLight(656,48,200,16759418,1.5),this.lights.addLight(80,512,200,16759418,1.5),this.lights.addLight(656,512,200,16759418,1.5),this.lights.addLight(224,288,500,16759418,1.5),this.lights.addLight(528,288,500,16759418,1.5),this.lights.addLight(368,512,500,16759418,.5);const t=this.make.tilemap({key:"map"});this.map=t;const n=t.addTilesetImage("barrier","barrier"),y=t.addTilesetImage("tileset1","tileset1"),B=t.addTilesetImage("tileset2","tileset2"),s=t.addTilesetImage("tileset3","tileset3"),m=t.createLayer("base_color",[n,y,B,s],0,0),R=t.createLayer("floor",[n,y,B,s],0,0),W=t.createLayer("outer_walls",[n,y,B,s],0,0),K=t.createLayer("barriers",[n,y,B,s],0,0),T=t.createLayer("decor",[n,y,B,s],0,0),e=t.getObjectLayer("player_spawn"),l=t.getObjectLayer("collision");m.setPipeline("Light2D"),R.setPipeline("Light2D"),W.setPipeline("Light2D"),K.setPipeline("Light2D"),T.setPipeline("Light2D");function c(r,i,A="noSpawn"){const p=new Set;return i.forEach(a=>{var C;(C=a==null?void 0:a.objects)!=null&&C.forEach&&a.objects.forEach(d=>{var x;if((x=d.properties)==null?void 0:x.some(g=>g.name===A&&g.value===!0)){const g=Math.floor(d.x/r.tileWidth),w=Math.floor(d.y/r.tileHeight);p.add(D(g,w))}})}),p}this.blockedTiles=c(t,[e,l]);function Q(r,i,A="noSpawn",p="playerSpawn"){const a=new Set;return i.forEach(C=>{var d;(d=C==null?void 0:C.objects)!=null&&d.forEach&&C.objects.forEach(o=>{var w,E;const x=(w=o.properties)==null?void 0:w.some(f=>f.name===A&&f.value===!0),g=(E=o.properties)==null?void 0:E.some(f=>f.name===p&&f.value===!1);if(x&&g){const f=Math.floor(o.x/r.tileWidth),k=Math.floor(o.y/r.tileHeight);a.add(D(f,k))}})}),a}this.blockedWallTiles=Q(t,[e,l]);const b=["front","right","left","back"],I={idle:{startFrames:{front:0,right:16,left:32,back:48},frameRate:3},walk:{startFrames:{front:1,right:17,left:33,back:49},frameRate:7},damage:{startFrames:{front:2,right:18,left:34,back:50},frameRate:7},death:{startFrames:{front:3,right:19,left:35,back:51},frameRate:7}};for(const[r,{startFrames:i,frameRate:A}]of Object.entries(I))b.forEach(p=>{const a=i[p];this.anims.create({key:`${r}-${p}`,frames:[{key:"character",frame:a},{key:"character",frame:a+4},{key:"character",frame:a+8},{key:"character",frame:a+12}],frameRate:A,repeat:r==="death"?0:r==="damage"?1:-1})});this.player=this.physics.add.sprite(48,80,"character"),this.player.isDead=!1,this.player.setDepth(1),this.player.setScale(2),this.player.body.setSize(10,12).setOffset(11,11),this.player.setCollideWorldBounds(!0),this.player.setPipeline("Light2D"),this.playerLight=this.lights.addLight(this.player.x,this.player.y,100,16759418,.5),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd=this.input.keyboard.addKeys({up:u.Input.Keyboard.KeyCodes.W,left:u.Input.Keyboard.KeyCodes.A,down:u.Input.Keyboard.KeyCodes.S,right:u.Input.Keyboard.KeyCodes.D}),this.lastFacedDirection="idle-front",this.player.play(this.lastFacedDirection),l.objects.forEach(r=>{const i=r.width,A=r.height,p=this.add.rectangle(r.x+r.width/2,r.y+r.height/2,i,A);this.physics.add.existing(p,!0),this.physics.add.collider(this.player,p)}),this.anims.create({key:"crate-explode",frames:[{key:"crate",frame:0},{key:"crate",frame:1},{key:"crate",frame:2},{key:"crate",frame:3},{key:"crate",frame:4}],frameRate:10,repeat:0});function h(r,i,A,p,a,C,d){const o=i.width,x=i.height;let g=0;const w=new Set;for(let E=0;E<x;E++)for(let f=0;f<o;f++){if(g>=C)return w;const k=D(f,E);if(!A.has(k)&&Math.random()<d){const v=i.tileToWorldX(f),S=i.tileToWorldY(E),F=r.crates.create(v+i.tileWidth/2,S+i.tileHeight/2,a);F.body.setSize(F.width,F.height).setOffset(0,0),F.setDepth(0),F.setPipeline("Light2D"),F.setTint(11184810),p.add(F),g++,w.add(k)}}return w}const U=250,J=.85;this.crates=this.physics.add.staticGroup(),M=h(this,t,this.blockedTiles,this.crates,"crate",U,J),this.physics.add.collider(this.player,this.crates),this.anims.create({key:"bomb-idle",frames:this.anims.generateFrameNumbers("bomb",{start:0,end:7}),frameRate:10,repeat:-1}),this.spaceKey=this.input.keyboard.addKey(u.Input.Keyboard.KeyCodes.SPACE),this.bombs=this.physics.add.group(),this.occupiedBombTile=new Set,this.bombsPlaced=0,this.anims.create({key:"explosion-origin",frames:[{key:"explosion",frame:0},{key:"explosion",frame:7},{key:"explosion",frame:14},{key:"explosion",frame:21},{key:"explosion",frame:28},{key:"explosion",frame:35},{key:"explosion",frame:42},{key:"explosion",frame:49},{key:"explosion",frame:56},{key:"explosion",frame:63},{key:"explosion",frame:70},{key:"explosion",frame:77},{key:"explosion",frame:84}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-mid-vertical",frames:[{key:"explosion",frame:1},{key:"explosion",frame:8},{key:"explosion",frame:15},{key:"explosion",frame:22},{key:"explosion",frame:29},{key:"explosion",frame:36},{key:"explosion",frame:43},{key:"explosion",frame:50},{key:"explosion",frame:57},{key:"explosion",frame:64},{key:"explosion",frame:71},{key:"explosion",frame:78},{key:"explosion",frame:85}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-mid-horizontal",frames:[{key:"explosion",frame:2},{key:"explosion",frame:9},{key:"explosion",frame:16},{key:"explosion",frame:23},{key:"explosion",frame:30},{key:"explosion",frame:37},{key:"explosion",frame:44},{key:"explosion",frame:51},{key:"explosion",frame:58},{key:"explosion",frame:65},{key:"explosion",frame:72},{key:"explosion",frame:79},{key:"explosion",frame:86}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-end-up",frames:[{key:"explosion",frame:3},{key:"explosion",frame:10},{key:"explosion",frame:17},{key:"explosion",frame:24},{key:"explosion",frame:31},{key:"explosion",frame:38},{key:"explosion",frame:45},{key:"explosion",frame:52},{key:"explosion",frame:59},{key:"explosion",frame:66},{key:"explosion",frame:73},{key:"explosion",frame:80},{key:"explosion",frame:87}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-end-down",frames:[{key:"explosion",frame:4},{key:"explosion",frame:11},{key:"explosion",frame:18},{key:"explosion",frame:25},{key:"explosion",frame:32},{key:"explosion",frame:39},{key:"explosion",frame:46},{key:"explosion",frame:53},{key:"explosion",frame:60},{key:"explosion",frame:67},{key:"explosion",frame:74},{key:"explosion",frame:81},{key:"explosion",frame:88}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-end-left",frames:[{key:"explosion",frame:5},{key:"explosion",frame:12},{key:"explosion",frame:19},{key:"explosion",frame:26},{key:"explosion",frame:33},{key:"explosion",frame:40},{key:"explosion",frame:47},{key:"explosion",frame:54},{key:"explosion",frame:61},{key:"explosion",frame:68},{key:"explosion",frame:75},{key:"explosion",frame:82},{key:"explosion",frame:89}],frameRate:20,repeat:0}),this.anims.create({key:"explosion-end-right",frames:[{key:"explosion",frame:6},{key:"explosion",frame:13},{key:"explosion",frame:20},{key:"explosion",frame:27},{key:"explosion",frame:34},{key:"explosion",frame:41},{key:"explosion",frame:48},{key:"explosion",frame:55},{key:"explosion",frame:62},{key:"explosion",frame:69},{key:"explosion",frame:76},{key:"explosion",frame:83},{key:"explosion",frame:90}],frameRate:20,repeat:0})}function O(){if(this.player.isDead)return;const t=this.player,n=this.cursors,y=this.wasd;if(t.setVelocity(0),[n.left.isDown||y.left.isDown,n.right.isDown||y.right.isDown,n.up.isDown||y.up.isDown,n.down.isDown||y.down.isDown].filter(Boolean).length>1){t.play(this.lastFacedDirection,!0);return}n.left.isDown||y.left.isDown?(t.setVelocityX(-L),t.anims.play("walk-left",!0),this.lastFacedDirection="idle-left"):n.right.isDown||y.right.isDown?(t.setVelocityX(L),t.anims.play("walk-right",!0),this.lastFacedDirection="idle-right"):n.up.isDown||y.up.isDown?(t.setVelocityY(-L),t.anims.play("walk-back",!0),this.lastFacedDirection="idle-back"):n.down.isDown||y.down.isDown?(t.setVelocityY(L),t.anims.play("walk-front",!0),this.lastFacedDirection="idle-front"):t.play(this.lastFacedDirection,!0),this.playerLight.x=this.player.x,this.playerLight.y=this.player.y;const s=[{type:null,chance:.5},{type:"speed",chance:.18},{type:"range",chance:.18},{type:"bombUp",chance:.14}],m={bombUp:()=>H++,speed:()=>L+=10,range:()=>P++};function R(){const e=Math.random();let l=0;for(const c of s)if(l+=c.chance,e<l)return c.type}function W(e,l,c,Q,b){const I=new Set,h=new Map,U=new Map;let J=D(c.x,c.y);const r=[{x:0,y:-1,name:"up",mid:"vertical"},{x:0,y:1,name:"down",mid:"vertical"},{x:-1,y:0,name:"left",mid:"horizontal"},{x:1,y:0,name:"right",mid:"horizontal"}];r.forEach(i=>{var p;let A=null;for(let a=1;a<=b;a++){const C=c.x+i.x*a,d=c.y+i.y*a,o=D(C,d);if(Q.has(o))break;if(M.has(o)){I.add(o),h.set(o,i.mid);const[x,g]=o.split(",").map(Number),w=l.tileToWorldX(x)+l.tileWidth/2,E=l.tileToWorldY(g)+l.tileHeight/2,f=e.crates.getChildren().find(k=>u.Math.Fuzzy.Equal(k.x,w,1)&&u.Math.Fuzzy.Equal(k.y,E,1));if(f){f.play("crate-explode"),f.on("animationcomplete",()=>{f.destroy()});let k=R();if(k!==null){let v=e.physics.add.sprite(w,E,k);v.body.immovable=!0,v.body.moves=!1,e.physics.add.overlap(e.player,v,()=>{var S;(S=m[k])==null||S.call(m),k==="bombUp"&&console.log(`Bomb Count: ${H}`),k==="speed"&&console.log(`Speed: ${L}`),k==="range"&&console.log(`Range: ${b}`),v.destroy()})}}M.delete(o);break}I.add(o),h.set(o,i.mid),A=o}A&&U.set(A,((p=r.find(a=>D(c.x+a.x*b,c.y+a.y*b)===A))==null?void 0:p.name)||i.name)}),I.add(J),I.forEach(i=>{const[A,p]=i.split(",").map(Number),a=l.tileToWorldX(A)+l.tileWidth/2,C=l.tileToWorldY(p)+l.tileHeight/2;let d="explosion-mid-horizontal";i===J?d="explosion-origin":U.has(i)?d=`explosion-end-${U.get(i)}`:d=`explosion-mid-${h.get(i)}`;const o=e.physics.add.sprite(a,C,"explosion");e.explosions||(e.explosions=e.physics.add.group()),e.explosions.add(o),e.physics.add.overlap(e.player,o,()=>{if(!e.player.isDead){e.player.isDead=!0,e.player.setVelocity(0);const x=e.add.sprite(e.player.x,e.player.y,"character").setScale(e.player.scaleX).setFrame(e.player.anims.currentFrame.index).setTint(16777215).setAlpha(1).setBlendMode(u.BlendModes.ADD).setDepth(e.player.depth+1);e.time.delayedCall(300,()=>x.destroy());const g=e.lastFacedDirection.replace("idle-","");e.player.anims.play(`damage-${g}`,!0),e.time.delayedCall(500,()=>{e.player.anims.play(`death-${g}`,!0)}),e.player.body.enable=!1,e.time.delayedCall(1200,()=>{e.player.destroy(),e.lights.removeLight(e.playerLight)})}},null,e),o.setTint(16773058),o.setBlendMode(u.BlendModes.ADD),o.play(d),o.on("animationcomplete",()=>{o.destroy()})})}this.nextBombTime||(this.nextBombTime=0);const K=this.time.now,T=0;if(this.spaceKey.isDown&&K>this.nextBombTime){this.nextBombTime=K+T;const e=this.player.getCenter(),l=this.map.worldToTileXY(e.x,e.y),c=`${l.x},${l.y}`;if(this.occupiedBombTile.has(c)||this.bombsPlaced>=H)return;const Q=this.map.tileToWorldXY(l.x,l.y),b=Q.x+this.map.tileWidth/2,I=Q.y+this.map.tileHeight/2,h=this.physics.add.sprite(b,I,"bomb");h.body.immovable=!0,h.body.moves=!1,h.play("bomb-idle"),this.bombs.add(h);const U=this.physics.add.collider(this.player,h);U.active=!1;const J=c,r=this.time.addEvent({delay:50,loop:!0,callback:()=>{const A=this.map.worldToTileXY(this.player.x,this.player.y);D(A.x,A.y)!==J&&(U.active=!0)}}),i=this.add.sprite(h.x,h.y,"bombGlow");i.setScale(1.8),i.setAlpha(.5),i.setDepth(h.depth-1),h.setTint(16764057),this.occupiedBombTile.add(c),this.bombsPlaced++,this.time.delayedCall(3500,()=>{this.occupiedBombTile.delete(c),this.lights.removeLight(h.light),this.bombsPlaced--,r.remove(),h.destroy(),W(this,this.map,l,this.blockedWallTiles,P)})}}new u.Game(z);
